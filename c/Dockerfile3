# Example 3 - Multi-Stage Build for C++

FROM cgr.dev/chainguard/gcc-glibc:latest AS builder

WORKDIR /usr/bin

COPY hello.cpp ./

RUN ["g++", "-Wall", "-o", "hello", "hello.cpp"]

FROM cgr.dev/chainguard/glibc-dynamic:latest

WORKDIR /usr/bin

COPY --from=builder /usr/bin/hello ./

ENTRYPOINT ["./hello"]